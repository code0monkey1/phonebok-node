{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","service/person.js","components/Notification.js","components/App.js","index.js"],"names":["Person","person","deletePerson","name","number","id","onClick","Filter","action","onChange","type","PersonForm","addName","newName","onTypingName","newNumber","onTypingNumber","onSubmit","value","baseUrl","axios","get","then","response","console","log","data","newObject","post","delete","put","Notification","notification","entryValid","className","App","useState","persons","setPersons","setNewName","setNewNumber","filterByName","setFilterByName","matchingNames","setMatchingNames","setNotification","setEntryValid","useEffect","personService","personData","catch","error","setTimeout","filter","per","event","searchWord","target","toLowerCase","includes","preventDefault","some","personToFind","find","window","confirm","newObj","returnedPerson","map","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.89cfd759.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person=({person,deletePerson})=>{\n      \n      return (\n        <div>\n          {person.name}  {person.number}\n           <button id={person.id}\n            onClick={()=>deletePerson(person) \n          }\n          >delete</button>\n       </div>\n\n\n       )\n\n}\nexport default Person;","import React from 'react'\nconst Filter=({action})=>{\n   return  <div>\n        filter show with : <input\n        onChange={action}\n        type=\"text\"/>\n            </div>\n}\nexport default Filter;","import React from 'react'\n\nconst PersonForm=({addName,\n                    newName,\n                    onTypingName,\n                    newNumber,\n                   onTypingNumber})=>{\n  \n     return (\n<form onSubmit={addName}>     \n        <div>\n\n        name: <input value={newName} \n                        onChange={onTypingName}/>\n        <br/>\n        number : <input value={newNumber} \n                            onChange={onTypingNumber}/>\n        </div>\n        \n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n</form>\n\n\n     )\n\n\n}\nexport default PersonForm;\n","import axios from 'axios'\nconst baseUrl=\"/api/persons\"\n\nconst getAll=()=>{\n\n    return axios\n    .get(baseUrl)\n    .then(response =>{\n        console.log(\"The response data is \",\n        response.data)\n        return response.data \n    })\n}\nconst create=(newObject)=>{\n\n   return axios\n   .post(baseUrl,newObject)\n   .then(response=>response.data)\n}\n\nconst del=(id)=>{\n    return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst update =(id, newObject)=>{\n     return axios\n     .put(`${baseUrl}/${id}`,newObject)\n     .then(response =>response.data)    \n}\n\nexport default{ getAll, create, del, update }","import React from 'react'\n\nconst Notification =({notification,entryValid})=>{\n    if(notification===null){\n        return(<div>\n\n        </div>)\n    }\n    return(\n     \n     <div \n        className={entryValid?\"validEntry\":\"error\"}>\n         {notification}\n     </div>\n\n\n    )\n}\n\nexport default Notification;","import React, { useState ,useEffect} from 'react'\nimport Person from './Person'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport personService from '../service/person'\nimport Notification from './Notification'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber]= useState('')\n  const [filterByName,setFilterByName]=useState(false);\n  const [matchingNames,setMatchingNames]=useState([]);\n  const [notification,setNotification]=useState(null)\n  const [entryValid,setEntryValid]=useState(true)\n  \n  useEffect(() => {\n      personService.getAll()\n      .then(personData=> setPersons(personData))\n   }, [])\n  \n  const onTypingNumber=(event)=>{\n      setNewNumber(event.target.value)\n  }\n\n  const onTypingName=(event)=>{\n   setNewName (event.target.value)\n  }\n\n  const deletePerson=(person)=>{\n   //delete from server\n     personService.del(person.id)\n     .catch(error => {\n      setEntryValid(false)\n      setNotification( `the person '${person.name}' was already deleted from server`)\n      \n      setTimeout(() => {\n        setNotification(null)\n       }, 5000)\n\n     setPersons(persons.filter(per => per.name !== person.name))\n     setNewName(\"\")\n     setNewNumber(\"\")\n   })\n   // delete from persons hook\n     setPersons(persons.filter(per=>per.id!==person.id))\n  }\n  \n  const addPerson=(event)=>{\n   \n    event.preventDefault()\n    setFilterByName(false)\n    \n\n   const isSamePerson=persons\n   .some( person=> person.name===newName)\n    \n  //if person with same name entred\n  //then propt the user\n    if(isSamePerson){\n      const personToFind=persons.find( person => \n                                        person.name===newName)\n      if (window.confirm(`${newName} \n         is already added to phonebook ,\n         do you want to add the new number ? `)){\n           const newObj={\n             ...personToFind,number:newNumber\n           }\n            personService.update(personToFind.id,newObj)\n            .then(returnedPerson =>\n                  setPersons( persons\n                  .map( person=> \n                          person.name===newName?newObj:person)\n                          )\n              \n              ).catch(error => {\n                 setEntryValid(false)\n                 setNotification( `the person '${personToFind.name}' was already deleted from server`)\n                 \n                setPersons(persons.filter(person => person.name !== personToFind.name))\n                setNewName(\"\")\n                setNewNumber(\"\")\n              })\n              \n              setEntryValid(true)\n              setNotification(\n                `Note '${newName}' with number ${newNumber} has been added`)\n              setTimeout(() => {\n               setNotification(null)\n              }, 5000) \n              setNewNumber(\"\")\n              setNewName(\"\")\n         } \n     setNewName(\"\")\n     setNewNumber(\"\")\n     return;\n\n    }\n    //else follow the happy path\n    const newObject={\n      name: newName,\n      number: newNumber\n      }\n     // add to jSon server \n    personService.create(newObject)\n    .then ( returnedPerson =>\n     //addded to persons hook\n     setPersons( persons.concat( returnedPerson ) )\n    )\n\n    setNotification(\n      `Note '${newName}' with number ${newNumber} has been added`)\n    setTimeout(() => {\n     setNotification(null)\n    }, 5000) \n    setNewNumber(\"\")\n    setNewName(\"\")\n  }\n  const searchNDisplay=(event)=>{\n      setFilterByName(true)\n      const searchWord= event.target.value;\n      console.log(searchWord)\n        \n      setMatchingNames(\n                    persons.filter( person=> \n                       \n                        person.name.toLowerCase()\n                        .includes(searchWord.toLowerCase())\n                                \n                        )\n            )\n\n    console.log(matchingNames)\n    \n  }\n  console.log('search for matching names',filterByName)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification \n      notification={notification}\n      entryValid={entryValid}\n      />\n     <Filter action={searchNDisplay}/>\n     <h3>add a new </h3> \n     <PersonForm \n                addName={addPerson}\n                newName={newName}\n                newNumber={newNumber}\n                onTypingName={onTypingName}\n                onTypingNumber={onTypingNumber}\n                />\n      <h2>Numbers</h2>\n      \n      {filterByName?\n      matchingNames.map(matchingNames=> <Person \n                        key={matchingNames.name}\n                        person={matchingNames}/>\n                )\n      : \n      persons.map(person=> <Person \n                            key={person.name}\n                            person={person}\n                            deletePerson={deletePerson}\n                            />\n          )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\n\n\n\nReactDOM.render(\n <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}